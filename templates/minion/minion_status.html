{% include "base.html" %}


{% block content %}
<div id="page-wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <h2 class="page-header">Minions Status</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="dataTable_wrapper">
                            <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                <thead>
                                    <tr>
                                        <th>Minion id</th>
                                        <th>在线 / 离线</th>
                                        <th>认证状态</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for i in model_obj %}
                                    <tr>
                                        <td>{{ i.minion_id }}</td>
                                        {% if i.is_online %}
                                        <td>在线</td>
                                        {% else %}
                                        <td>离线</td>
                                        {% endif %}
                                        {% if i.key_status == 'A' %}
                                        <td><button type="button" class="btn btn-success btn-xs">已认证</button></td>
                                        {% elif i.key_status == 'D' %}
                                        <td><button type="button" class="btn btn-warning btn-xs">已拒绝</button></td>
                                        {% elif i.key_status == 'U' %}
                                        <td><button type="button" class="btn btn-info btn-xs">未认证</button></td>
                                        {% elif i.key_status == 'R' %}
                                        <td><button type="button" class="btn btn-danger btn-xs">已丢弃</button></td>
                                        {% else %}
                                        <td></td>
                                        {% endif %}
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        <!-- /.table-responsive -->
                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel-default -->
            </div>
            <!-- /.col-lg-12 -->
        </div>
    <!-- /.row -->
    </div>
</div>

<script type="text/javascript">
	$(document).ready(function() {
		$('#dataTables-example').dataTable( {
        	responsive: true,
			"oLanguage":
            {
            	"sProcessing":   "处理中...",
            	"sLengthMenu":   "显示 _MENU_ 项结果",
            	"sZeroRecords":  "没有匹配结果",
            	"sInfo":         "显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",
            	"sInfoEmpty":    "显示第 0 至 0 项结果，共 0 项",
            	"sInfoFiltered": "(由 _MAX_ 项结果过滤)",
            	"sInfoPostFix":  "",
            	"sSearch":       "搜索:",
            	"sUrl":          "",
            	"sEmptyTable":     "表中数据为空",
            	"sLoadingRecords": "载入中...",
            	"sInfoThousands":  ",",
            	"oPaginate": {
            		"sFirst":    "首页",
            		"sPrevious": "上页",
            		"sNext":     "下页",
            		"sLast":     "末页"
            	},
            	"oAria": {
            		"sSortAscending":  ": 以升序排列此列",
            		"sSortDescending": ": 以降序排列此列"
            	}
            }

		} );
	} );
   </script>
{% endblock %}
